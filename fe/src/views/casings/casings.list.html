<div class="actions-bar">
  <button class="btn btn-primary btn-outline" ng-click="$ctrl.create()" ng-if="$ctrl.session.can('casing', 'create')">
    <i class="fa fa-fw fa-plus"></i> Create Casing
  </button>


  <div class="pull-right">
    <button class="btn btn-link" ng-click="$ctrl.filters = !$ctrl.filters"><i class="fa fa-fw fa-filter"></i> Filters</button>
    <button class="btn btn-link" ng-click="$ctrl.load()"><i class="fa fa-fw fa-refresh"></i>  Reload</button>
  </div>
</div>

<div class="table-frame hug borderless" cg-busy="$ctrl.loadingPromise">
  <div class="table-responsive">
    <table class="table table-hover" ng-table="$ctrl.tableParams" show-filter="$ctrl.filters">
      <colgroup>
        <col>
        <col width="11.6%">
        <col width="11.6%">
        <col width="11.6%">
        <col width="11.6%">
        <col width="11.6%">
        <col width="11.6%">
        <col width="30%">
      </colgroup>
      <tbody>
        <tr ng-repeat="item in $data track by item.id" ng-class="{ 'info': item.tieIn }">
          <td class="table-numeration">{{ $ctrl.count + $index + 1 }}</td>

          <td title="'Outer Diameter'" filter="{ 'outerDiameter' : 'number' }" sortable="'outerDiameter'" class="text-center">
            <span editable-number="item.outerDiameter" e-step="any" onbeforesave="$ctrl.save($data, 'outerDiameter', item)" e-required e-min="0" edit-disabled="!$ctrl.session.can('casing', 'edit')">
              {{ item.outerDiameter | fraction | available }}
            </span>
          </td>

          <td title="'Inner Diameter'" filter="{ 'innerDiameter' : 'number' }" sortable="'innerDiameter'" class="text-center">
            <span editable-number="item.innerDiameter" e-step="any" onbeforesave="$ctrl.save($data, 'innerDiameter', item)" e-required e-min="0" edit-disabled="!$ctrl.session.can('casing', 'edit')">
              {{ item.innerDiameter | fraction | available }}
            </span>
          </td>

          <td title="'Top'" filter="{ 'top' : 'number' }" sortable="'top'" class="text-center">
            <span editable-number="item.top" e-step="any" onbeforesave="$ctrl.save($data, 'top', item)" e-required e-min="0" edit-disabled="!$ctrl.session.can('casing', 'edit')">
              {{ item.top | number | available }}
            </span>
          </td>

          <td title="'Bottom'" filter="{ 'bottom' : 'number' }" sortable="'bottom'" class="text-center">
            <span editable-number="item.bottom" e-step="any" onbeforesave="$ctrl.save($data, 'bottom', item)" e-required e-min="0" edit-disabled="!$ctrl.session.can('casing', 'edit')">
              {{ item.bottom | number | available }}
            </span>
          </td>

          <td title="'Weight'" filter="{ 'weight' : 'number' }" sortable="'weight'" class="text-center">
            <span editable-number="item.weight" e-step="any" onbeforesave="$ctrl.save($data, 'weight', item)" e-required e-min="0" edit-disabled="!$ctrl.session.can('casing', 'edit')">
              {{ item.weight | number | available }}
            </span>
          </td>

          <td title="'Size'" filter="{ 'size' : 'number' }" sortable="'size'" class="text-center">
            <span editable-number="item.size" e-step="any" onbeforesave="$ctrl.save($data, 'size', item)" e-required e-min="0" edit-disabled="!$ctrl.session.can('casing', 'edit')">
              {{ item.size | number | available }}
            </span>
          </td>

          <td title="'Description'" filter="{ 'description' : 'text' }" sortable="'description'">
            <span editable-textarea="item.description" e-rows="4" e-maxlength="500" onbeforesave="$ctrl.save($data, 'description', item)" e-required edit-disabled="!$ctrl.session.can('casing', 'edit')">
              {{ item.description | available }}
            </span>
          </td>

          <!--<td title="'is Active?'" sortable="'tieIn'" class="text-center">
            <toggle ng-model="item.isActive" ng-change="$ctrl.toggleTieIn(isActive)" size="btn-xs" edit-disabled="!$ctrl.session.can('casing', 'edit')"></toggle>
          </td>-->
        </tr>
      </tbody>
    </table>
  </div>
</div>
